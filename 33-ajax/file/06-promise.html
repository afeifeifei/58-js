<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="Author" content="阿飞飞">
    <style>
        body{font-family: "Microsoft YaHei",serif;user-select:none;}
        body,dl,dd,p,h1,h2,h3,h4,h5,h6{margin:0;}
        ol,ul,li{margin:0;padding:0;list-style:none;}
        img{border:none;}
        
    </style>
</head>
<body>
    
    <script>

        /*
        ES6 Promise
            解决异步回调地狱的问题
         */

        /*setTimeout(()=>{

            console.log(2);

            setTimeout(()=>{

                console.log(3);

                setTimeout(()=>{
                    console.log(4);

                    setTimeout(()=>{
                        console.log(5);
                    },20);
                },50);

            },200);



        },100);

        console.log(1);*/

        /*new Promise( (res,rej)=>{
            setTimeout(()=>{
                console.log(2);

                res();
            },200)
        } )
        .then(()=>{
            console.log("res之后触发的函数");
        })
        .catch(()=>{
            console.log("rej之后触发的函数");
        });


        console.log(1);*/



        new Promise( (res,rej)=>{
            setTimeout(()=>{
                console.log(2);

                res();
            },200)
        } )
        .then(()=>{
            return new Promise((res,rej)=>{
                setTimeout(()=>{
                    console.log(3);

                    res();
                },500);
            });
        })
        .then(()=>{
            return new Promise((res,rej)=>{
               setTimeout(()=>{
                   console.log(4);

                   res();
               },50);
            });
        })
        .then(()=>{
            setTimeout(()=>{
                console.log(5);
            },50);
        });


        console.log(1);


    </script>
</body>
</html>






